{"ast":null,"code":"import _objectSpread from\"C:/Users/twins/Desktop/obras-twins/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/twins/Desktop/obras-twins/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/twins/Desktop/obras-twins/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/twins/Desktop/obras-twins/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Form from'./Form';import{toast}from\"react-toastify\";import{db}from\"../firebase\";import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Tareas=function Tareas(){var scrollToTop=function scrollToTop(){window.scrollTo({top:0,behavior:\"smooth\"});};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tareas=_useState2[0],setTareas=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),currentId=_useState4[0],setCurrentId=_useState4[1];var addOrEditTarea=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(tareaObject){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(currentId==='')){_context.next=7;break;}_context.next=4;return db.collection(\"tareas\").doc().set(tareaObject);case 4:toast(\"Tarea Agregada\",{type:\"success\",autoClose:1000,position:\"top-center\"});_context.next=11;break;case 7:_context.next=9;return db.collection('tareas').doc(currentId).update(tareaObject);case 9:toast(\"Tarea Actualizada\",{type:\"info\",autoClose:1000,position:\"top-center\"});setCurrentId('');case 11:_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function addOrEditTarea(_x){return _ref.apply(this,arguments);};}();var onDeleteTarea=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Desea eliminar la tarea?\")){_context2.next=4;break;}_context2.next=3;return db.collection(\"tareas\").doc(id).delete();case 3:toast(\"Tarea Eliminada\",{type:\"error\",autoClose:1000,position:\"top-center\"});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function onDeleteTarea(_x2){return _ref2.apply(this,arguments);};}();var getTareas=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:db.collection(\"tareas\").onSnapshot(function(querySnapshot){var docs=[];querySnapshot.forEach(function(doc){docs.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setTareas(docs);});case 1:case\"end\":return _context3.stop();}},_callee3);}));return function getTareas(){return _ref3.apply(this,arguments);};}();useEffect(function(){getTareas();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\" col-md-6 mx-auto p-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"justify-content-center p-3 text-primary\",children:\"Ingresar Tarea Diaria\"}),/*#__PURE__*/_jsx(Form,{addOrEditTarea:addOrEditTarea,currentId:currentId,tareas:tareas})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"justify-content-center p-3 text-primary\",children:\"Reporte de Tareas\"}),/*#__PURE__*/_jsx(\"div\",{className:\" col-md-8 mx-auto p-2\",children:tareas.map(function(tarea){return/*#__PURE__*/ (//{return <h1> {tarea.name} </h1>}\n_jsx(\"div\",{className:\"card mb-1 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h5\",{children:tarea.data}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons text-danger\",onClick:function onClick(){return onDeleteTarea(tarea.id);},children:\"delete\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:scrollToTop,children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",onClick:function onClick(){return setCurrentId(tarea.id);},children:\"edit\"})})]})]}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-success\",children:tarea.name}),/*#__PURE__*/_jsx(\"p\",{className:\"p-1\",children:tarea.descripcion})]})},tarea.id));})})]})});};export default Tareas;","map":{"version":3,"names":["React","useState","Form","toast","db","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tareas","scrollToTop","window","scrollTo","top","behavior","_useState","_useState2","_slicedToArray","tareas","setTareas","_useState3","_useState4","currentId","setCurrentId","addOrEditTarea","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tareaObject","wrap","_callee$","_context","prev","next","collection","doc","set","type","autoClose","position","update","t0","console","error","stop","_x","apply","arguments","onDeleteTarea","_ref2","_callee2","id","_callee2$","_context2","confirm","delete","_x2","getTareas","_ref3","_callee3","_callee3$","_context3","onSnapshot","querySnapshot","docs","forEach","push","_objectSpread","data","children","className","map","tarea","onClick","name","descripcion"],"sources":["C:/Users/twins/Desktop/obras-twins/src/components/Tareas.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Form from './Form';\r\nimport { toast } from \"react-toastify\";\r\nimport { db } from \"../firebase\";\r\nimport { useEffect } from 'react';\r\n\r\n\r\nexport const Tareas = () => {\r\n\r\nconst scrollToTop = () => {\r\n  window.scrollTo({\r\n    top:0,\r\n    behavior:\"smooth\"\r\n  });\r\n};\r\n\r\n  const [tareas, setTareas] = useState([]);\r\n  const [currentId, setCurrentId] = useState('')\r\n  const addOrEditTarea = async (tareaObject) => {\r\n    try {\r\n      if (currentId === '') {\r\n        await db.collection(\"tareas\").doc().set(tareaObject);\r\n\r\n        toast(\"Tarea Agregada\", {\r\n          type: \"success\",\r\n          autoClose: 1000,\r\n          position: \"top-center\"\r\n        });\r\n      } \r\n      \r\n      else {\r\n        await db.collection('tareas').doc(currentId).update(tareaObject);\r\n\r\n        toast(\"Tarea Actualizada\", {\r\n          type: \"info\",\r\n          autoClose: 1000,\r\n          position: \"top-center\"\r\n        });\r\n        setCurrentId('');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onDeleteTarea = async (id) => {\r\n    if (window.confirm(\"Desea eliminar la tarea?\")) {\r\n      await db.collection(\"tareas\").doc(id).delete();\r\n\r\n      toast(\"Tarea Eliminada\", {\r\n        type: \"error\",\r\n        autoClose: 1000,\r\n        position: \"top-center\"\r\n      })\r\n    }\r\n  };\r\n\r\n  const getTareas = async () => {\r\n    db.collection(\"tareas\").onSnapshot((querySnapshot) => {\r\n      const docs = [];\r\n      querySnapshot.forEach(doc => {\r\n        docs.push({ ...doc.data(), id: doc.id });\r\n      });\r\n      setTareas(docs);\r\n    });\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getTareas();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <>\r\n<div>\r\n\r\n        <div className=\" col-md-6 mx-auto p-2\">\r\n          <h4 className='justify-content-center p-3 text-primary'>Ingresar Tarea Diaria</h4>\r\n          <Form {...{ addOrEditTarea, currentId, tareas }} />\r\n          </div>\r\n          <h4 className='justify-content-center p-3 text-primary'>Reporte de Tareas</h4>\r\n        <div className=\" col-md-8 mx-auto p-2\">\r\n        \r\n          {tareas.map(tarea =>\r\n          //{return <h1> {tarea.name} </h1>}\r\n\r\n          (\r\n            <div className=\"card mb-1 text-center\" key={tarea.id}>\r\n              <div className=\"card-body\">\r\n                <div className='d-flex justify-content-between'>\r\n                  <h5>{tarea.data}</h5>\r\n                  <div>\r\n\r\n                    <button className='btn'>\r\n                      <i className='material-icons text-danger'\r\n                        onClick={() => onDeleteTarea(tarea.id)}>delete</i>\r\n                    </button>\r\n\r\n                    <button className='btn' onClick={scrollToTop}>                                     \r\n                      <i className='material-icons'onClick= {() => setCurrentId(tarea.id) }>edit</i>                       \r\n                    </button>\r\n\r\n                  </div>\r\n                </div>\r\n                <h5 className='text-success'>{tarea.name}</h5>\r\n                <p className='p-1'>{tarea.descripcion}</p>\r\n              </div>\r\n            </div>\r\n          )\r\n\r\n          )}\r\n        </div>\r\n        </div>\r\n\r\n    </>\r\n  )\r\n};\r\n\r\n\r\nexport default Tareas;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}